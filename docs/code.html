
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Code Documnentation &#8212; bme590hrm 1.0.0 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Welcome to bme590hrm’s documentation!" href="index.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="module-SignalProcess">
<span id="code-documnentation"></span><h1>Code Documnentation<a class="headerlink" href="#module-SignalProcess" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="SignalProcess.ECG">
<em class="property">class </em><code class="descclassname">SignalProcess.</code><code class="descname">ECG</code><span class="sig-paren">(</span><em>time</em>, <em>voltage</em>, <em>minvoltage=None</em>, <em>maxvoltage=None</em>, <em>num_beats=None</em>, <em>beat_times=None</em>, <em>duration=None</em>, <em>mean_hr=None</em><span class="sig-paren">)</span><a class="headerlink" href="#SignalProcess.ECG" title="Permalink to this definition">¶</a></dt>
<dd><p>ECG data signal processing class contain
get_duration: find 1st and last time array and calculate difference
get_voltage_extreme: Calculate the Max and Min of the input voltage
get_interval: interval between beats
autocorr: autocorrelation
countbeats: count the number of beats
mean_hr: mean heart rate
write_json: Write a Dictionary to Json</p>
<dl class="method">
<dt id="SignalProcess.ECG.autocorr">
<code class="descname">autocorr</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#SignalProcess.ECG.autocorr" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the autocorrelation of the voltage, based on the properties of the
power spectral density of the signal.
from: <a class="reference external" href="https://stackoverflow.com/questions/643699/how-can-i-use-numpy-correlate-to-do-autocorrelation">https://stackoverflow.com/questions/643699/how-can-i-use-numpy-correlate-to-do-autocorrelation</a>
:return: Autocorrelated dataset</p>
</dd></dl>

<dl class="method">
<dt id="SignalProcess.ECG.count_beats">
<code class="descname">count_beats</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#SignalProcess.ECG.count_beats" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the Number of beats using the given interval calculated from get_interval()
method used from <a class="reference external" href="http://greenteapress.com/thinkdsp/html/thinkdsp006.html">http://greenteapress.com/thinkdsp/html/thinkdsp006.html</a>
and <a class="reference external" href="https://stackoverflow.com/questions/3684484/peak-detection-in-a-2d-array">https://stackoverflow.com/questions/3684484/peak-detection-in-a-2d-array</a>
:return: times when the beats occurred</p>
</dd></dl>

<dl class="method">
<dt id="SignalProcess.ECG.get_duration">
<code class="descname">get_duration</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#SignalProcess.ECG.get_duration" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the duration of the ECG signal</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">difference between the first and last time value</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="SignalProcess.ECG.get_interval">
<code class="descname">get_interval</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#SignalProcess.ECG.get_interval" title="Permalink to this definition">¶</a></dt>
<dd><p>Using autocorr() to find the length of the peak to peak R-wave interval
See <a class="reference external" href="https://www.mathworks.com/help/signal/ug/find-periodicity-using-autocorrelation.html">https://www.mathworks.com/help/signal/ug/find-periodicity-using-autocorrelation.html</a>
for detail
:return: time in seconds of the R to R peak</p>
</dd></dl>

<dl class="method">
<dt id="SignalProcess.ECG.get_voltage_extremes">
<code class="descname">get_voltage_extremes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#SignalProcess.ECG.get_voltage_extremes" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the Max and Min of the input voltage
:return: (min,max) values</p>
</dd></dl>

<dl class="method">
<dt id="SignalProcess.ECG.mean_heart_rate">
<code class="descname">mean_heart_rate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#SignalProcess.ECG.mean_heart_rate" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates heart rate of the sample data in BPM
:returns: avg_hr_bpm: calculated heart rate in beats per minute</p>
</dd></dl>

<dl class="method">
<dt id="SignalProcess.ECG.write_json">
<code class="descname">write_json</code><span class="sig-paren">(</span><em>dictionary</em>, <em>filename</em><span class="sig-paren">)</span><a class="headerlink" href="#SignalProcess.ECG.write_json" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Writes data outputs to json files using</dt>
<dd><a class="reference external" href="https://stackabuse.com/reading-and-writing-json-to-a-file-in-python/">https://stackabuse.com/reading-and-writing-json-to-a-file-in-python/</a></dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Param:</th><td class="field-body">dictionary: dictionary containing the data to be written
to a json file
path: path to the file to be written
filename: name of the file in string, should be the input filename</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">json file with the same name as the input file</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<span class="target" id="module-HRM_main"></span><dl class="function">
<dt id="HRM_main.main">
<code class="descclassname">HRM_main.</code><code class="descname">main</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="headerlink" href="#HRM_main.main" title="Permalink to this definition">¶</a></dt>
<dd><p>Main Script that list the order of operation from SignalProcess.py, and ReadData.py
1st) Read data by calling DataIO class
2nd) Input time and voltage into ECG class which is the signal processing file
3rd) perform voltage extreme, peak, beats, and avg_hr calculations
:param filename: Filename in String format ex(‘test_data13.csv’)
:return:</p>
<blockquote>
<div>“Mean Heart Rate BPM”: avg_hr_bpm,
“Minimum Voltage”: voltage_extremes[0],
“Maximum Voltage”: voltage_extremes[1],
“Duration”: time_duration,
“Number of Beats”: num_beats,
“Beats”: str(beats)}</div></blockquote>
</dd></dl>

<span class="target" id="module-ReadData"></span></div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">bme590hrm</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Code Documnentation</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="index.html" title="previous chapter">Welcome to bme590hrm’s documentation!</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2018, Alan Register.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.8.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/code.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>